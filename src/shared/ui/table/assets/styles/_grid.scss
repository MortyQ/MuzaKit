// Table Grid Styles - Modern Edition
// ============================================
@use 'variables' as *;

// ...existing code...
.table-grid {
  display: grid;
  width: 100%;

  // IMPORTANT: min-width ensures grid expands to accommodate all columns
  // Without this, fixed columns (position: sticky) may disappear during horizontal scroll
  // because the grid would only be as wide as the scroll container
  min-width: fit-content;

  transition: none; // Disable transition during normal operation

  // CRITICAL: NO transform here - it conflicts with virtualization
  // and causes layout shifts when table is partially visible
  // The scroll container handles GPU acceleration instead

  // State during column resize
  &.is-resizing {
    cursor: col-resize;
    user-select: none;

    // All child elements also have resize cursor
    * {
      cursor: col-resize !important;
      user-select: none !important;
      // PERFORMANCE: Disable all transitions during resize
      transition: none !important;
    }

    // PERFORMANCE: Disable hover effects during resize
    .table-row-wrapper:hover > .table-cell {
      background: none !important;
      border-left: none !important;
      border-bottom-color: rgb(var(--color-base-300) / 0.3) !important;
    }

    // PERFORMANCE: Disable box-shadows during resize (expensive!)
    .table-total-cell {
      box-shadow: none !important;
    }
  }
}

// Helper for display: contents
.contents {
  display: contents;
}

// Spacer for virtualization
.table-virtual-spacer {
  grid-column: 1 / -1; // span all columns
}

