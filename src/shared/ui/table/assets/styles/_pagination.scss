// Table Pagination Styles - Modern & Organic Edition
// ============================================
@use './variables' as *;

// ...existing code...
.table-pagination {
  display: flex;
  align-items: center;
  justify-content: space-between;

  // Паддинг такой же как в ячейках таблицы для органичности
  padding: $table-cell-padding-y $table-cell-padding-x;
  gap: 1.5rem;
  flex-wrap: wrap;

  // Modern glass-like gradient background
  background: linear-gradient(
    to top,
    rgb(var(--color-base-200) / 0.3),
    rgb(var(--color-base-100) / 0.5)
  );

  // Subtle gradient border
  border-top: 1px solid rgb(var(--color-base-300) / 0.4);

  // Нижние углы совпадают с таблицей
  border-bottom-left-radius: 1rem;
  border-bottom-right-radius: 1rem;

  // Минимальная высота для комфорта
  min-height: 60px;

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
    padding: 1rem;
  }
}

// Информация о pagination - мягкий secondaryText
.table-pagination-info {
  color: theme('colors.secondaryText');
  font-size: $table-font-size-base;
  line-height: $table-line-height-base;
  font-weight: $table-font-weight-regular;
  white-space: nowrap;

  // Highlight numbers - mainText для акцента
  &-highlight {
    color: theme('colors.mainText');
    font-weight: $table-font-weight-semibold;
  }
}

// Контролы пагинации - группа кнопок
.table-pagination-controls {
  display: flex;
  align-items: center;
  gap: 0.25rem; // Плотная группировка кнопок
  flex-wrap: wrap;
  justify-content: center;
}

// Современная кнопка пагинации
.table-pagination-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;

  // Размеры кнопки
  min-width: 2.25rem;
  height: 2.25rem;
  padding: 0.375rem 0.75rem;

  // Modern glass-like button
  border: 1px solid rgb(var(--color-base-300) / 0.3);
  border-radius: 0.5rem;

  // Glass gradient background
  background: linear-gradient(
    to bottom,
    rgb(var(--color-base-200) / 0.5),
    rgb(var(--color-base-100) / 0.8)
  );

  // Subtle shadow
  box-shadow:
    0 1px 2px 0 rgba(0, 0, 0, 0.05),
    0 1px 3px -1px rgba(0, 0, 0, 0.1);

  color: theme('colors.mainText');

  // Типографика
  font-size: $table-font-size-base;
  font-weight: $table-font-weight-medium;
  line-height: 1;

  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  // Убираем outline при фокусе, добавим box-shadow
  outline: none;

  // Hover state - gradient enhancement
  &:hover:not(:disabled):not(.table-pagination-btn--active) {
    background: linear-gradient(
      to bottom,
      rgb(var(--color-primary) / 0.08),
      rgb(var(--color-base-200) / 0.6)
    );
    border-color: rgb(var(--color-primary) / 0.3);
    transform: translateY(-1px);
    box-shadow:
      0 2px 4px 0 rgba(0, 0, 0, 0.08),
      0 2px 6px -2px rgba(0, 0, 0, 0.12);
  }

  // Active/pressed state
  &:active:not(:disabled) {
    transform: scale(0.97);
  }

  // Disabled state - как disabled ячейки
  &:disabled {
    opacity: $opacity-disabled;
    cursor: not-allowed;
    color: theme('colors.secondaryText');
  }

  // Active page - beautiful gradient with premium glow
  &--active {
    background: linear-gradient(
      135deg,
      rgb(var(--color-primary)),
      rgb(var(--color-primary-600))
    );
    color: white;
    border-color: rgb(var(--color-primary));
    font-weight: $table-font-weight-semibold;

    // Premium multi-layered glow effect
    box-shadow:
      0 0 0 1px rgb(var(--color-primary) / 0.1),        // Subtle outline glow
      0 2px 4px 0 rgb(var(--color-primary) / 0.3),      // Close shadow
      0 4px 12px -2px rgb(var(--color-primary) / 0.25), // Medium glow
      0 8px 20px -4px rgb(var(--color-primary) / 0.15); // Ambient glow

    cursor: default;

    &:hover {
      // Enhanced glow on hover
      box-shadow:
        0 0 0 1px rgb(var(--color-primary) / 0.15),
        0 2px 4px 0 rgb(var(--color-primary) / 0.35),
        0 6px 16px -2px rgb(var(--color-primary) / 0.3),
        0 10px 24px -4px rgb(var(--color-primary) / 0.2);
    }
  }

  // Focus state - кольцо как у таблицы
  &:focus-visible {
    box-shadow: 0 0 0 3px color-mix(in srgb, theme('colors.primary') 20%, transparent 80%);
  }
}

// Page size selector - органичный dropdown
.table-pagination-size {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  white-space: nowrap;

  label {
    color: theme('colors.secondaryText');
    font-size: $table-font-size-base;
    font-weight: $table-font-weight-medium;
  }

  select {
    // Размеры
    padding: 0.375rem 2rem 0.375rem 0.75rem;
    min-width: 80px;
    height: 2.25rem;

    // Граница как у кнопок
    border: $table-border-width solid theme('colors.cardBorder');
    border-radius: 6px;

    // Фон и текст
    background-color: theme('colors.cardBg');
    color: theme('colors.mainText');

    // Типографика
    font-size: $table-font-size-base;
    font-weight: $table-font-weight-medium;
    line-height: 1;

    cursor: pointer;
    transition: all $transition-fast;

    // Кастомная стрелка
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%2364748b' d='M4.427 6.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 6H4.604a.25.25 0 00-.177.427z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.5rem center;
    background-size: 16px;

    // Hover state
    &:hover {
      background-color: color-mix(in srgb, theme('colors.cardBg') 96%, theme('colors.mainText') 4%);
      border-color: color-mix(in srgb, theme('colors.cardBorder') 70%, theme('colors.mainText') 30%);
    }

    // Focus state
    &:focus {
      outline: none;
      border-color: theme('colors.primary');
      box-shadow: 0 0 0 3px color-mix(in srgb, theme('colors.primary') 20%, transparent 80%);
    }

    // Options
    option {
      background-color: theme('colors.cardBg');
      color: theme('colors.mainText');
      padding: 0.5rem;
    }
  }
}

// Ellipsis для многих страниц
.table-pagination-ellipsis {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 2.25rem;
  height: 2.25rem;
  color: theme('colors.secondaryText');
  font-weight: $table-font-weight-medium;
  cursor: default;
  user-select: none;
}

// Responsive adjustments
@media (max-width: 768px) {
  .table-pagination {
    &-info {
      order: 1;
      text-align: center;
      width: 100%;
    }

    &-controls {
      order: 2;
      width: 100%;
    }

    &-size {
      order: 3;
      width: 100%;
      justify-content: center;
    }
  }
}

