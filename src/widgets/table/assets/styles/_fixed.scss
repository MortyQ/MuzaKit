// Table Fixed Columns Styles - Premium Clean Edition âœ¨
// =====================================================
@use './variables' as *;

// Base fixed column - ELEGANT & LIGHTWEIGHT
// Only background and z-index styles, WITHOUT position: sticky!
// Sticky is added separately for left/right
.table-fixed-column {
  z-index: $z-index-fixed-cell;

  // Performance optimization: GPU acceleration for smoother scrolling
  will-change: transform;

  // ðŸŽ¨ ELEGANT MINIMAL TINT: Barely visible primary tint (2%)
  // Solid background using color-mix (PERFORMANCE: no transparency, no blur)
  background-color: color-mix(
    in srgb,
    theme('colors.primary') 2%,
    theme('colors.cardBg') 98%
  );

  // Right border for left-fixed, left border for right-fixed (applied below)
  transition: background-color 150ms ease, border-color 150ms ease;
}

// Left fixed column - sticky for horizontal scroll
.table-fixed-left {
  position: sticky;
  left: 0;

  // Dynamic left position set through inline styles
  // left: calc(sum of previous fixed left widths)
}

// Right fixed column - sticky for horizontal scroll
.table-fixed-right {
  position: sticky;
  right: 0;

  // Dynamic right position set through inline styles
  // right: calc(sum of previous fixed right widths)
}

// ðŸŽ¯ BORDER: Only on LAST left-fixed column (separator between fixed and scrollable)
.table-fixed-left-last {
  border-right: 2px solid
    color-mix(in srgb, theme('colors.primary') 70%, transparent 30%);
}

// ðŸŽ¯ BORDER: Only on FIRST right-fixed column (separator between scrollable and fixed)
.table-fixed-right-first {
  border-left: 2px solid
    color-mix(in srgb, theme('colors.primary') 70%, transparent 30%);
}

// Hover effect on fixed columns - smooth emphasis
.table-row-wrapper:hover {
  .table-fixed-column {
    // ðŸŒŸ More visible tint on hover (4%)
    background-color: color-mix(
      in srgb,
      theme('colors.primary') 4%,
      theme('colors.cardBg') 96%
    );
  }

  // Brighter border on hover
  .table-fixed-left-last {
    border-right-color: color-mix(
      in srgb,
      theme('colors.primary') 90%,
      transparent 10%
    );
  }

  .table-fixed-right-first {
    border-left-color: color-mix(
      in srgb,
      theme('colors.primary') 90%,
      transparent 10%
    );
  }
}

// Z-index hierarchy for fixed columns
// ====================================

// Body cells with fixed (not header, not total)
// Have lowest z-index to not overlap header/total
.table-cell.table-fixed-column {
  z-index: $z-index-fixed-cell !important;

  // ðŸ’Ž Body: 2% primary tint
  background-color: color-mix(
    in srgb,
    theme('colors.primary') 2%,
    theme('colors.cardBg') 98%
  );
}

// Fixed in header (highest z-index: 15)
// Always on top to not overlap during scroll
.table-header-cell.table-fixed-column {
  z-index: $z-index-header-fixed !important;

  // ðŸŽ¨ Header: Barely visible tint (1%)
  background-color: color-mix(
    in srgb,
    theme('colors.primary') 1%,
    theme('colors.cardBg') 99%
  );

  // ðŸ’ª Slightly bolder text for visual emphasis
  font-weight: 500;
}

// Fixed grouped header (same z-index as header cell)
.table-header-group.table-fixed-column {
  z-index: $z-index-header-fixed !important;

  // ðŸŽ¨ Group header: Same 1% tint as regular header
  background-color: color-mix(
    in srgb,
    theme('colors.primary') 1%,
    theme('colors.cardBg') 99%
  );

  font-weight: 500;
}

// Fixed in total row (z-index: 11)
// Above regular header but below header+fixed
.table-total-cell.table-fixed-column {
  z-index: $z-index-total-fixed !important;

  // ðŸŒŸ Total: More visible tint (3%)
  background-color: color-mix(
    in srgb,
    theme('colors.primary') 3%,
    theme('colors.cardBg') 97%
  );

  // ðŸ’ª Bolder text for importance
  font-weight: 600;
}

